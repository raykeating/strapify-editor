(()=>{"use strict";var t={646:function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(r,i){function l(t){try{s(o.next(t))}catch(t){i(t)}}function a(t){try{s(o.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(l,a)}s((o=o.apply(t,e||[])).next())}))},r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=r(n(970));class l{constructor(t,e){return this.activeBorder=null,l.instance||(l.instance=this),this.apiUrl=t,this.schemaUrl=e,this.collectionElms=document.querySelectorAll("[strapi-collection]"),this.activeBorder=null,l.instance}displayEditButtons(){var t;return o(this,void 0,void 0,(function*(){const e=(t,e,n)=>{const o=document.createElement("a");o.classList.add("strapify-editor-button");const r=document.createElement("span");return r.textContent="‚úèÔ∏è",o.appendChild(r),o.href=`${this.apiUrl}admin/content-manager/collectionType/api::${t}.${t}/${e}`,o.target="_blank",o.rel="noopener noreferrer",o.style.position="absolute",o.style.top=n.y+"px",o.style.left=n.right+"px",o};for(const n of this.collectionElms){const o=n.getAttribute("strapi-collection"),r=n.querySelectorAll("[strapi-template-id]");for(const n of r){console.log(null===(t=n.querySelector("h3"))||void 0===t?void 0:t.textContent);const r=yield this.getSingularApiId(o);r||console.error("Could not find collection with the plural name of "+o);const l=n.getAttribute("strapi-template-id")||"",a=n.getBoundingClientRect(),s=e(r,l,a);document.body.appendChild(s),s.addEventListener("mouseenter",(()=>{this.activeBorder=i.default.addBorderFromRect(a)})),s.addEventListener("mouseleave",(()=>{i.default.removeBorder(this.activeBorder)}))}}}))}getSingularApiId(t){return o(this,void 0,void 0,(function*(){if(!t)return null;const e=yield fetch(this.schemaUrl),n=yield e.json();for(const e of n)if(e.info.pluralName===t)return e.info.singularName;return null}))}getDisplayName(t){return o(this,void 0,void 0,(function*(){if(!t)return null;const e=yield fetch(this.schemaUrl),n=yield e.json();for(const e of n)if(e.info.pluralName===t)return e.info.displayName;return null}))}displayCollectionLabels(){return o(this,void 0,void 0,(function*(){for(const e of this.collectionElms){const n=e.getAttribute("strapi-collection"),o=yield this.getSingularApiId(n),r=yield this.getDisplayName(n);if(!o)return console.error("Could not find collection with the plural name of "+n);const l=t(r,o,e);l.addEventListener("mouseenter",(()=>{this.activeBorder=i.default.addBorderFromRect(e.getBoundingClientRect())})),l.addEventListener("mouseleave",(()=>{i.default.removeBorder(this.activeBorder)})),document.body.appendChild(l)}function t(t,e,n){const o=document.createElement("a");o.classList.add("strapi-collection-label"),o.innerHTML=`<span>üìù</span> <span class="label-text">${t}</span>`,o.href=`${l.instance.apiUrl}admin/content-manager/collectionType/api::${e}.${e}`,o.target="_blank",o.rel="noopener noreferrer";const r=n.getBoundingClientRect();return o.style.position="absolute",o.style.top=r.y+"px",o.style.left=r.x+"px",o}}))}destroy(){var t,e;const n=document.querySelectorAll(".strapify-editor-button");for(const e of n)null===(t=e.parentElement)||void 0===t||t.removeChild(e);const o=document.querySelectorAll(".strapi-collection-label");for(const t of o)null===(e=t.parentElement)||void 0===e||e.removeChild(t);i.default.removeBorder(this.activeBorder)}}e.default=l},492:function(t,e,n){var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const r=o(n(970)),i=o(n(646)),l=document.currentScript||null;let a,s,d=!1;l&&(a=new URL(l.getAttribute("data-strapi-api-url")||"")),l&&(s=new URL(l.getAttribute("data-strapi-schema-url")||"")),window.location.search.includes("strapiEditor")&&(d=!0),d&&(document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&location.reload()})),r.default.addButtonStylesToDOM(),r.default.addLabelStylesToDOM()),document.addEventListener("strapifyInitialized",(()=>{if(d){let t,e=new i.default(a,s);e.displayEditButtons(),e.displayCollectionLabels(),window.addEventListener("resize",(()=>{e.destroy(),clearTimeout(t),t=setTimeout((()=>{e.displayEditButtons(),e.displayCollectionLabels()}),200)}))}}))},970:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=new class{constructor(){this.editorColors={buttonPrimary:"rgba(255, 255, 255, 1)",labelPrimary:"rgba(255, 255, 255, 1)",textPrimary:"rgba(0,0,0,1)",borderColor:"rgba(0,0,0,0.08)"}}addButtonStylesToDOM(){const t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`\n    .strapify-editor-button {\n      transform: translateX(-14px) translateY(-14px);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: ${this.editorColors.buttonPrimary};\n      color: #000;\n      border: none;\n      width: 32px;\n      height: 32px;\n      border-radius: 50%;\n      font-size: 14px;\n      text-align: center;\n      box-shadow: 0.5px 0.5px 4px rgba(0, 0, 0, 0.13);\n      cursor: pointer;\n      z-index: 9999;\n      transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\n    }\n    .strapify-editor-button:hover {\n      transform: translateX(-15px) translateY(-15px) scale(1.05);\n      box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.18);\n    }\n  `}addLabelStylesToDOM(){const t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`\n    .strapi-collection-label {\n      transform: translateX(-10px) translateY(-10px);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-color: ${this.editorColors.labelPrimary};\n      color: #000;\n      padding: 6px 12px;\n      font-size: 14px;\n      box-shadow: 0.5px 0.5px 4px rgba(0, 0, 0, 0.13);\n      z-index: 9999;\n      transition: background-color 0.2s ease-in-out;\n      cursor: pointer;\n      border-radius: 100px;\n      transition: transform 0.1s ease-in-out, box-shadow 0.1s ease-in-out;\n    }\n\n    .strapi-collection-label:hover {\n      transform: translateX(-11.5px) translateY(-11.5px);\n      box-shadow: 0.5px 0.5px 5px rgba(0, 0, 0, 0.18);\n    }\n  \n    .strapi-collection-label .label-text {\n      font-size: 14px;\n      font-weight: 600;\n      margin-left: 4px;\n    }\n  \n  `}addBorderFromRect(t){const e=document.createElement("div");return e.style.position="absolute",e.style.top=t.top-8+"px",e.style.left=t.left-8+"px",e.style.width=`${t.width+16}px`,e.style.height=`${t.height+16}px`,e.style.border=`2px dashed ${this.editorColors.borderColor}`,e.style.borderRadius="4px",e.style.pointerEvents="none",e.style.zIndex="9998",e.style.transition="opacity 0.1s ease-in-out",e.style.opacity="0",setTimeout((()=>{e.style.opacity="1"}),0),document.body.appendChild(e),e}removeBorder(t){t&&t.remove()}}}},e={};!function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}(492)})();